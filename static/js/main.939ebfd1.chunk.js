(this["webpackJsonpcool-moovies"]=this["webpackJsonpcool-moovies"]||[]).push([[0],{86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(25),a=n.n(c),o=n(17),i=n(18),s=n(51),u=n(14),j=n.n(u),l=n(12),b=n(9),O=n(27),d=n.n(O);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:e,payload:t}}var f="f5e1997e1aee777bf58aab88b75ffadb",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,n){return t[n]="".concat(e,"_").concat(n),t}),{})}("ITEM",["GET_ALL_MOVIES","SUCCESS_ALL_MOVIES","FAILURE_ALL_MOVIES","GET_MOVIE_DETAILS","SUCCESS_MOVIE_DETAILS","FAILURE_MOVIE_DETAILS"]),g=function(){return h(v.GET_ALL_MOVIES,{fetching:!0,success:!1,error:null})},p=function(e){return h(v.SUCCESS_ALL_MOVIES,Object(b.a)(Object(b.a)({},e),{},{fetching:!1,success:!0,error:null}))},x=function(e){return h(v.FAILURE_ALL_MOVIES,Object(b.a)(Object(b.a)({},e),{},{fetching:!1,success:!1}))},E=function(e){return h(v.GET_MOVIE_DETAILS,{id:e,fetching:!0,success:!1,error:null})},m=function(e){return h(v.SUCCESS_MOVIE_DETAILS,Object(b.a)(Object(b.a)({},e),{},{fetching:!1,success:!0,error:null}))},_=function(e){return h(v.FAILURE_MOVIE_DETAILS,Object(b.a)(Object(b.a)({},e),{},{fetching:!1,success:!1}))},S=j.a.mark(w),I=j.a.mark(L);function w(e){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.b)(d.a.get,"https://api.themoviedb.org/3/trending/week/day?api_key=".concat(f));case 3:return t=e.sent,n=t.data,e.next=7,Object(l.d)(p({data:n}));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(l.d)(x({error:Object(b.a)({},e.t0)}));case 13:case"end":return e.stop()}}),S,null,[[0,9]])}function L(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([Object(l.e)(v.GET_ALL_MOVIES,w)]);case 2:case"end":return e.stop()}}),I)}var A=L,T=j.a.mark(M),k=j.a.mark(y);function M(e){var t,n,r;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload.id,c.next=4,Object(l.b)(d.a.get,"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(f));case 4:return n=c.sent,r=n.data,c.next=8,Object(l.d)(m({data:r}));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(l.d)(_({error:Object(b.a)({},c.t0)}));case 14:case"end":return c.stop()}}),T,null,[[0,10]])}function y(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([Object(l.e)(v.GET_MOVIE_DETAILS,M)]);case 2:case"end":return e.stop()}}),k)}var V=y,C=j.a.mark(U);function U(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([Object(l.c)(A),Object(l.c)(V)]);case 2:case"end":return e.stop()}}),C)}var D=n(16),G=n(23),F=n(33),R=n(45),J=Object(D.fromJS)({data:new D.List([]),fetching:!1,success:!1,error:null});function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_ALL_MOVIES:case v.SUCCESS_ALL_MOVIES:case v.FAILURE_ALL_MOVIES:return e.merge(t.payload);default:return e}}var W=Object(D.fromJS)({data:new D.List([]),fetching:!1,success:!1,error:null});function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_MOVIE_DETAILS:case v.SUCCESS_MOVIE_DETAILS:case v.FAILURE_MOVIE_DETAILS:return e.merge(t.payload);default:return e}}var q,z=function(e){return Object(R.combineReducers)(Object(b.a)({allMovies:B,movie:$},e))},H=Object(F.b)(),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=G.b,n=[H],r=[G.a.apply(void 0,n)],c=Object(G.c)(z(),Object(D.fromJS)(e),t.apply(void 0,r));return c.runSaga=H.run,c.asyncReducers={},c.close=function(){return c.dispatch(F.a)},c},N=n(8),P=n(20),Q=function(e){return e.get("movie")},X=Object(P.a)(Q,(function(e){return e.get("data")})),Y=Object(P.a)(Q,(function(e){return e.get("fetching")})),Z=(Object(P.a)(Q,(function(e){return e.get("error")})),n(6)),ee=n(2),te=function(){var e=Object(o.b)(),t=Object(N.f)().movieId,n=Object(o.c)(X),c=Object(o.c)(Y);return Object(r.useEffect)((function(){e(E(t))}),[e]),Object(ee.jsx)(Z.a,{children:Object(ee.jsxs)(Z.h,{children:[Object(ee.jsx)(Z.f,{logo:!0,back:!0}),Object(ee.jsx)(Z.c,{fit:!0,children:!c&&n&&Object(ee.jsx)(Z.b,{stretch:!0,children:Object(ee.jsxs)(Z.j,{toColumn:"tablet",bkg:"purple",radius:"8",marginAll:!0,children:[Object(ee.jsx)(Z.j,{noShrink:!0,children:Object(ee.jsx)(Z.k,{details:!0,movie:n})}),Object(ee.jsxs)(Z.b,{color:"white",marginAll:"30",children:[Object(ee.jsx)(Z.e,{children:n.title||n.original_title||n.name}),n.release_date&&Object(ee.jsx)(Z.j,{marginTop:"5",children:Object(ee.jsx)(Z.g,{small:!0,color:"white",children:"(".concat(n.release_date,")")})}),n.vote_average&&Object(ee.jsx)(Z.j,{marginTop:!0,children:Object(ee.jsx)(Z.i,{autoColor:!0,value:10*n.vote_average})}),n.overview&&Object(ee.jsx)(Z.j,{marginTop:!0,children:Object(ee.jsx)(Z.g,{large:!0,color:"white",children:n.overview})}),n.genres&&Object(ee.jsx)(ne,{title:"Genres:",children:Object(ee.jsx)(Z.g,{color:"white",children:n.genres.map((function(e){return e.name})).join(", ")})}),n.production_countries&&Object(ee.jsx)(ne,{title:"Countries:",children:Object(ee.jsx)(Z.g,{color:"white",children:n.production_countries.map((function(e){return e.name})).join(", ")})})]})]})})})]})})},ne=function(e){var t=e.title,n=e.children;return Object(ee.jsxs)(Z.b,{marginTop:!0,children:[Object(ee.jsx)(Z.j,{marginBottom:"5",children:Object(ee.jsx)(Z.g,{semibold:!0,large:!0,color:"white",children:t})}),Object(ee.jsx)(Z.g,{color:"white",children:n})]})},re=function(e){return e.get("allMovies")},ce=Object(P.a)(re,(function(e){return e.get("data")})),ae=Object(P.a)(re,(function(e){return e.get("fetching")})),oe=(Object(P.a)(re,(function(e){return e.get("error")})),function(){var e,t=Object(o.b)(),n=Object(o.c)(ce),c=Object(o.c)(ae);return Object(r.useEffect)((function(){t(g())}),[t]),Object(ee.jsx)(Z.a,{children:Object(ee.jsxs)(Z.h,{children:[Object(ee.jsx)(Z.f,{logo:!0,title:"Trending this week"}),Object(ee.jsx)(Z.c,{children:!c&&Object(ee.jsx)(Z.d,{children:null===n||void 0===n||null===(e=n.results)||void 0===e?void 0:e.map((function(e){return Object(ee.jsx)(i.b,{to:"details/".concat(e.id),children:Object(ee.jsx)(Z.k,{movie:e})},e.id)}))})})]})})}),ie=n(49),se=n(50),ue=n(53),je=n(52),le=(q=function(){return Object(ee.jsxs)(N.c,{children:[Object(ee.jsx)(N.a,{exact:!0,path:"/",component:oe}),Object(ee.jsx)(N.a,{exact:!0,path:"/details/:movieId",component:te})]})},function(e){Object(ue.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ie.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={error:null,errorInfo:null},e}return Object(se.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.errorInfo;return Object(ee.jsx)(r.Fragment,{children:t?Object(ee.jsxs)(r.Fragment,{children:[Object(ee.jsx)("h2",{children:"Something went wrong."}),Object(ee.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[t.toString(),Object(ee.jsx)("br",{}),n.componentStack]})]}):Object(ee.jsx)(q,Object(b.a)({},this.props))})}}]),n}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(86);var be=Object(s.a)(),Oe=K({},be);Oe.runSaga(U);var de;de=le,a.a.render(Object(ee.jsx)(o.a,{store:Oe,children:Object(ee.jsx)(i.a,{history:be,children:Object(ee.jsx)(de,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[87,1,2]]]);
//# sourceMappingURL=main.939ebfd1.chunk.js.map